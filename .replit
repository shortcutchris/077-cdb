# Replit Configuration for SpecifAI

# Hidden files that should be ignored
hidden = [".git", "node_modules", ".env", ".env.local"]

# Main entry point
entrypoint = "packages/web/index.html"

# Configure the run command
[nix]
channel = "stable-24_11"

# Install dependencies and run the development server
run = "npm install && npm run build && npm run preview"

# Build command for production
onBoot = "npm install"

# Language configuration
[languages.javascript]
pattern = "**/*.{js,jsx,ts,tsx}"

[languages.html]
pattern = "**/*.html"

[languages.css]
pattern = "**/*.css"

# Deployment configuration
[deployment]
build = ["sh", "-c", "npm install && npm run build"]
run = ["sh", "-c", "cd packages/web && npm run preview --host 0.0.0.0 --port 3000"]

# Environment variables (these need to be set in Replit secrets)
[env]
NODE_ENV = "production"

# Port configuration
[[ports]]
localPort = 3000
externalPort = 80

# Configure Vite preview server to work with Replit
[packager]
language = "nodejs-npm"

[packager.features]
packageSearch = true
guessImports = true
enabledForHosting = false

# Audio is enabled by default in Replit, no configuration needed
# The browser will ask for microphone permissions when needed